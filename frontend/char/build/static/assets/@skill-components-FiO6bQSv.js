import{j as n,r as D,C as B}from"./@components-Bg3uNnqV.js";import{j as y,b as v,a as F,G as _,U as d}from"./@libs-DJfEVPp0.js";const M=({level:t,active:e=0,trained:r=0})=>{var o=r-e,a=t-e-o,l=5-Math.max(t,e,r);return n.jsxs("div",{children:[Array.from(Array(e)).map(c=>n.jsx("i",{class:"fas fa-circle"})),o>0?Array.from(Array(o)).map(c=>n.jsx("i",{class:"fas fa-circle",style:{color:"grey"}})):n.jsx(n.Fragment,{}),a>0?Array.from(Array(a)).map(c=>n.jsx("i",{class:"fas fa-circle",style:{color:"orange"}})):n.jsx(n.Fragment,{}),Array.from(Array(l)).map(c=>n.jsx("i",{class:"far fa-circle",style:{color:"grey"}}))]})},N=({skill:t,level:e,active:r=0,trained:o=0,className:a=""})=>n.jsxs("div",{className:`flex-skill-block ${a}`,children:[n.jsx("p",{children:t}),n.jsx(M,{level:e,active:r,trained:o})]}),L=()=>n.jsxs("div",{className:"",children:[n.jsx("h5",{className:"text-center",children:"Key"}),n.jsxs("div",{className:"flex-skill-block full-width",children:[n.jsx("p",{children:"Trained Level"}),n.jsx("i",{class:"fas fa-circle"})]}),n.jsxs("div",{className:"flex-skill-block full-width",children:[n.jsx("p",{children:"Omega Restricted"}),n.jsx("i",{class:"fas fa-circle",style:{color:"grey"}})]}),n.jsxs("div",{className:"flex-skill-block full-width",children:[n.jsx("p",{children:"Missing Level"}),n.jsx("i",{class:"fas fa-circle",style:{color:"orange"}})]})]}),U=({show:t,setShow:e,name:r,skill_reqs:o,skill_list:a})=>{const l=()=>{e(!t)};return n.jsxs(y,{show:t,onHide:()=>l(),children:[n.jsx(y.Header,{closeButton:!0,children:n.jsxs(y.Title,{children:[r," - Missing Skills"]})}),n.jsxs(y.Body,{children:[Object.entries(o).map(([c,i])=>{let u=0,f=0;return a[c]&&(f=a[c].active_level,u=a[c].trained_level),n.jsx(N,{skill:c,level:i,active:f,trained:u,className:"full-width"})}),n.jsx("hr",{}),n.jsx(L,{})]}),n.jsx(y.Footer,{children:n.jsx(v,{onClick:()=>l(),children:"Close"})})]})};var g={},I=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],o=0;o<t.rangeCount;o++)r.push(t.getRangeAt(o));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(a){t.addRange(a)}),e&&e.focus()}},z=I,P={"text/plain":"Text","text/html":"Url",default:"Text"},H="Copy to clipboard: #{key}, Enter";function G(t){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function K(t,e){var r,o,a,l,c,i,u=!1;e||(e={}),r=e.debug||!1;try{a=z(),l=document.createRange(),c=document.getSelection(),i=document.createElement("span"),i.textContent=t,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",function(s){if(s.stopPropagation(),e.format)if(s.preventDefault(),typeof s.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var p=P[e.format]||P.default;window.clipboardData.setData(p,t)}else s.clipboardData.clearData(),s.clipboardData.setData(e.format,t);e.onCopy&&(s.preventDefault(),e.onCopy(s.clipboardData))}),document.body.appendChild(i),l.selectNodeContents(i),c.addRange(l);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");u=!0}catch(s){r&&console.error("unable to copy using execCommand: ",s),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),u=!0}catch(p){r&&console.error("unable to copy using clipboardData: ",p),r&&console.error("falling back to prompt"),o=G("message"in e?e.message:H),window.prompt(o,t)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(l):c.removeAllRanges()),i&&document.body.removeChild(i),a()}return u}var $=K;function j(t){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(t)}Object.defineProperty(g,"__esModule",{value:!0});g.CopyToClipboard=void 0;var b=T(D),W=T($),X=["text","onCopy","options","children"];function T(t){return t&&t.__esModule?t:{default:t}}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(o){w(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function q(t,e){if(t==null)return{};var r=J(t,e),o,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function J(t,e){if(t==null)return{};var r={},o=Object.keys(t),a,l;for(l=0;l<o.length;l++)a=o[l],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Y(t,e,r){return e&&V(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}function C(t,e){return C=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},C(t,e)}function ee(t){var e=re();return function(){var o=x(t),a;if(e){var l=x(this).constructor;a=Reflect.construct(o,arguments,l)}else a=o.apply(this,arguments);return te(this,a)}}function te(t,e){if(e&&(j(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(t)}function R(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},x(t)}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var E=function(t){Z(r,t);var e=ee(r);function r(){var o;Q(this,r);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return o=e.call.apply(e,[this].concat(l)),w(R(o),"onClick",function(i){var u=o.props,f=u.text,s=u.onCopy,p=u.children,m=u.options,h=b.default.Children.only(p),A=(0,W.default)(f,m);s&&s(f,A),h&&h.props&&typeof h.props.onClick=="function"&&h.props.onClick(i)}),o}return Y(r,[{key:"render",value:function(){var a=this.props;a.text,a.onCopy,a.options;var l=a.children,c=q(a,X),i=b.default.Children.only(l);return b.default.cloneElement(i,k(k({},c),{},{onClick:this.onClick}))}}]),r}(b.default.PureComponent);g.CopyToClipboard=E;w(E,"defaultProps",{onCopy:void 0,options:void 0});var ne=g,O=ne.CopyToClipboard;O.CopyToClipboard=O;var oe=O;const ae=({name:t,skill_reqs:e,skill_list:r})=>{const[o,a]=D.useState(!1);let l=Object.entries(e).length===0,c=l?{bsStyle:"success"}:{bsStyle:"danger"},i=Object.entries(e).reduce((f,[s,p])=>{let m=0;return r[s]&&(m=r[s].trained_level),f&&m>=p},!0);!l&&i&&(c={bsStyle:"warning"});let u=Object.entries(e).reduce((f,[s,p])=>f+""+s+" "+p+`
`,"");return n.jsx(n.Fragment,{children:n.jsx(n.Fragment,{children:n.jsxs("div",{className:"doctrine-button",children:[n.jsxs(F,{className:"flex-container ",justified:!0,children:[n.jsxs(v,{...c,bsSize:"small",className:"flex-doctrine-btn-name",onClick:()=>a(!0),children:[t,l?n.jsx(n.Fragment,{}):n.jsx(n.Fragment,{})]}),i?n.jsx(v,{bsSize:"small",...c,className:"flex-one",children:n.jsx(_,{glyph:l?"check":"alert"})}):n.jsx(oe.CopyToClipboard,{text:u,children:n.jsx(v,{bsSize:"small",className:"flex-doctrine-btn-copy",children:n.jsx(_,{glyph:"copy"})})})]}),l?n.jsx(n.Fragment,{}):n.jsx(U,{show:o,setShow:a,name:t,skill_reqs:e,skill_list:r})]})})})},ie=({character:t,doctrines:e,skills:r})=>n.jsxs(d,{children:[n.jsx(d.Heading,{className:"text-center",children:t.character_name}),n.jsxs(d.Body,{className:"flex-container",children:[n.jsx("div",{className:"flex-one",children:n.jsx(B,{character:t,className:"doctrine-portrait"})}),n.jsx("div",{className:"flex-five flex-container",children:Object.entries(e).length>0?n.jsx(n.Fragment,{children:Object.entries(e).map(([o,a])=>n.jsx(ae,{name:o,skill_reqs:a,skill_list:r}))}):n.jsx("p",{children:"No Tokens"})})]})]}),se=({group:t,skills:e})=>n.jsxs(d,{children:[n.jsx(d.Heading,{children:t}),n.jsx(d.Body,{className:"flex-container flex-group-block",children:e.sort(function(r,o){var a=r.skill.toLowerCase(),l=o.skill.toLowerCase();return a<l?-1:a>l?1:0}).map(r=>n.jsx(N,{skill:r.skill,level:r.level,active:r.active,trained:r.active}))})]});export{ae as D,se as S,ie as a,M as b};
//# sourceMappingURL=@skill-components-FiO6bQSv.js.map
